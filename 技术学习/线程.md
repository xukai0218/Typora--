---

---

##  1.sleep() 方法和 wait() 方法区别和共同点?

|      |   sleep()    |             wait()             |
| :--: | :----------: | :----------------------------: |
|  1   |    Thread    |             Object             |
|  2   |   不释放锁   |             释放锁             |
|  3   |   自动唤醒   |      notify() notifyAll()      |
|  4   |   捕捉异常   |             不捕捉             |
|  5   |   任何地方   |           同步代码块           |
|  6   | 用于暂停执行 | Wait 通常被用于线程间交互/通信 |

# 2 线程和进程之间的区别

> 线程：系统分配处理器时间资源的基本单元，或者说进程之内独立执行的一个单元执行流。线程——程序执行的最小单位。
>
> 进程 指在系统中正在运行的一个应用程序；程序一旦运行就是进程；进程——资源分配的最小单位。
>
> 进程是资源分配的最小单位，线程是程序执行的最小单位。



3  什么是多线程上下文切换

```
CPU通过分配时间片来执行任务，当一个任务的时间片用完，就会切换到另一个任务。在切换之前会保存上一个任务的状态，当下次再切换到该任务，就会加载这个状态。
——任务从保存到再加载的过程就是一次上下文切换。
```

什么时候会发生上下文切换？
按导致上下文切换的因素划分，可将上下文切换分为两点：

自发性上下文切换
非自发性上下文切换
自发性上下文切换指线程由于自身因素导致的切出。
通过调用下列方法会导致自发性上下文切换：

Thread.sleep()
Object.wait()
Thread.yeild()
Thread.join()
LockSupport.park()
非自发性上下文切换指线程由于线程调度器的原因被迫切出。
发生下列情况可能导致非自发性上下文切换：

**切出线程的时间片用完**
**有一个比切出线程优先级更高的线程需要被运行**
虚拟机的垃圾回收动作
上下文切换的开销
上下文切换的开销包括直接开销和间接开销。
直接开销有如下几点：

操作系统保存回复上下文所需的开销
线程调度器调度线程的开销
间接开销有如下几点：

处理器高速缓存重新加载的开销
上下文切换可能导致整个一级高速缓存中的内容被冲刷，即被写入到下一级高速缓存或主存
